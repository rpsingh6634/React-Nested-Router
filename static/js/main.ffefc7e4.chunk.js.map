{"version":3,"sources":["reducers.js","components/NavItem.js","containers/NavItem.js","components/Nav.js","components/Breadcrumbs.js","containers/Breadcrumbs.js","components/App.js","containers/App.js","index.js"],"names":["ADD_ROOT_CHANNEL","ADD_CHANNEL","ADD_BREADCRUMB","REMOVE_BREADCRUMB","TOGGLE_BREADCRUMB","createReducer","initialState","handlers","state","action","hasOwnProperty","type","rootChannels","id","channel","channels","breadcrumbs","rootChannelId","activeChildren","includes","filter","activeId","console","log","removeBreadcrumb","addBreadcrumb","NavItem","this","props","isActive","onClick","name","children","className","map","child","Component","NavItemContainer","connect","dispatch","toggleBreadcrumb","Nav","items","Breadcrumbs","Object","keys","join","BreadcrumbsContainer","reduce","acc","namedBreadcrumbs","App","AppContainer","defaultData","store","createStore","combineReducers","window","devToolsExtension","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ffefc7e4.chunk.js","sourcesContent":["export const ADD_ROOT_CHANNEL = 'ADD_ROOT_CHANNEL'\r\nexport const RESET_ROOT_CHANNELS = 'RESET_ROOT_CHANNELS'\r\nexport const ADD_CHANNEL = 'ADD_CHANNEL'\r\nexport const ADD_BREADCRUMB = 'ADD_BREADCRUMB'\r\nexport const REMOVE_BREADCRUMB = 'REMOVE_BREADCRUMB'\r\nexport const TOGGLE_BREADCRUMB = 'TOGGLE_BREADCRUMB'\r\n\r\nexport const addRootChannel = channel => ({ type: ADD_ROOT_CHANNEL, channel })\r\nexport const addChannel = channel => ({ type: ADD_CHANNEL, channel })\r\nexport const toggleBreadcrumb = (rootChannelId, channel) => ({ type: TOGGLE_BREADCRUMB, rootChannelId, channel })\r\nexport const addBreadcrumb = (rootChannelId, channel) => ({ type: ADD_BREADCRUMB, rootChannelId, channel })\r\nexport const removeBreadcrumb = (rootChannelId, channel) => ({ type: REMOVE_BREADCRUMB, rootChannelId, channel })\r\n\r\nconst defaultRootChannelState = []\r\nconst defaultChannelState = {}\r\nconst defaultBreadcrumbState = {}\r\n\r\nfunction createReducer(initialState, handlers) {\r\n  return function reducer(state = initialState, action) {\r\n    if (handlers.hasOwnProperty(action.type)) {\r\n      return handlers[action.type](state, action)\r\n    } else {\r\n      return state\r\n    }\r\n  }\r\n}\r\n\r\nexport const rootChannels = createReducer(defaultRootChannelState, {\r\n    [ADD_ROOT_CHANNEL]: (state, { channel: { id }}) => [...state, id]\r\n  , [RESET_ROOT_CHANNELS]: () => []\r\n})\r\n\r\nexport const channels = createReducer(defaultChannelState, {\r\n  [ADD_CHANNEL]: (state, { channel }) => ({...state, ...{[channel.id]: channel}})\r\n})\r\n\r\nexport const breadcrumbs = createReducer(defaultBreadcrumbState, {\r\n  [ADD_BREADCRUMB](state, {rootChannelId, channel: { id }}) {\r\n    const activeChildren = state[rootChannelId] || []\r\n\r\n    if (activeChildren.includes(id)) {\r\n      return state\r\n    }\r\n\r\n    return {\r\n      ...state\r\n    , [rootChannelId]: [...activeChildren, id]\r\n    }\r\n  }\r\n, [REMOVE_BREADCRUMB](state, {rootChannelId, channel: { id }}) {\r\n    const activeChildren = state[rootChannelId] || []\r\n\r\n    if (id === rootChannelId ) {\r\n      const {[id]: omit, ...rest} = state\r\n      return rest\r\n    }\r\n    \r\n    return {\r\n      ...state\r\n    , [rootChannelId]: activeChildren.filter(activeId => activeId !== id)\r\n    }\r\n  }\r\n, [TOGGLE_BREADCRUMB](state, {rootChannelId, channel: { id }}) {\r\n    console.log(state, rootChannelId, id)\r\n    if (state.hasOwnProperty(id)) {\r\n      return breadcrumbs(state, removeBreadcrumb(rootChannelId, { id }))\r\n    }\r\n    return breadcrumbs(state, addBreadcrumb(rootChannelId, { id }))\r\n  }\r\n})","import React, { Component } from 'react'\r\nimport NavItemContainer from '../containers/NavItem'\r\nimport '../App.css'\r\n\r\nexport default class NavItem extends Component {\r\n  render() {\r\n    const { rootChannelId, isActive, onClick, channel, channel: {name, children} } = this.props\r\n    const className = isActive?  'nav__item__children show': 'nav__item__children'\r\n\r\n    return (\r\n      <div>\r\n        <li className={'nav__item'}\r\n            onClick={() => onClick(rootChannelId, channel)}>{name}</li>\r\n        <ul className={className}>\r\n          {children && children.map(child => <NavItemContainer id={child}\r\n                                                               key={child}\r\n                                                               rootChannelId={rootChannelId}/>)}\r\n        </ul>\r\n      </div>\r\n    )\r\n  }\r\n}","import { connect } from 'react-redux'\r\nimport NavItem from '../components/NavItem'\r\nimport { toggleBreadcrumb } from '../reducers'\r\n\r\nconst mapStateToProps = ({ channels, breadcrumbs }, { id }) => (\r\n  { channel: channels[id]\r\n  , isActive: breadcrumbs.hasOwnProperty(id)\r\n  }\r\n)\r\n\r\nconst mapDispatchToProps = dispatch => (\r\n  { onClick: (rootChannelId, channel) => dispatch(toggleBreadcrumb(rootChannelId, channel))}\r\n)\r\nconst NavItemContainer = connect(mapStateToProps, mapDispatchToProps)(NavItem)\r\nexport default NavItemContainer","import React, { Component } from 'react'\r\nimport NavItemContainer from '../containers/NavItem'\r\nimport '../App.css'\r\n\r\nexport default class Nav extends Component {\r\n  render() {\r\n    const { items } = this.props\r\n    return (\r\n      <nav className={'nav'}>\r\n        {items && items.map(id => <NavItemContainer id={id}\r\n                                                    key={id}\r\n                                                    rootChannelId={id} />)}\r\n      </nav>\r\n    )\r\n  }\r\n}","import React from 'react'\r\n\r\nconst Breadcrumbs = ({items}) => (\r\n  <div className=\"breadcrumbs\">\r\n    {Object.keys(items).map(id => <h1>{items[id].join(\" / \")}</h1>)}\r\n  </div>\r\n)\r\n\r\n\r\nexport default Breadcrumbs","import { connect } from 'react-redux'\r\nimport Breadcrumbs from '../components/Breadcrumbs'\r\n\r\nconst mapStateToProps = ({ channels, breadcrumbs }) => (\r\n  { items: Object.keys(breadcrumbs).reduce((acc, id) => {\r\n      const namedBreadcrumbs = breadcrumbs[id].map(id => channels[id].name)\r\n      return {...acc, [id]: namedBreadcrumbs}\r\n    }, {}) \r\n  }\r\n)\r\nconst BreadcrumbsContainer = connect(mapStateToProps)(Breadcrumbs)\r\nexport default BreadcrumbsContainer","import React, { Component } from 'react'\r\nimport Nav from './Nav'\r\nimport BreadcrumbsContainer from '../containers/Breadcrumbs'\r\nimport '../App.css'\r\n\r\nclass App extends Component {\r\n  render() {\r\n    const { rootChannels } = this.props\r\n    return (\r\n      <div className=\"App\">\r\n        <Nav items={rootChannels} />\r\n        <BreadcrumbsContainer />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\n\r\nexport default App","import { connect } from 'react-redux'\r\nimport App from '../components/App'\r\n\r\nconst mapStateToProps = ({rootChannels, channels}) => (\r\n  {rootChannels, channels}\r\n)\r\nconst AppContainer = connect(mapStateToProps)(App)\r\nexport default AppContainer","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\nimport { createStore, combineReducers } from 'redux'\nimport { rootChannels, channels, breadcrumbs } from './reducers'\nimport App from './containers/App'\nimport './index.css'\n\n\nconst channelsData = {\n  '1': { id: '1', 'name': 'Animals', children: ['4', '5', '6']}\n, '2': { id: '2', 'name': 'Sports', children: ['7', '8', '9']}\n, '3': { id: '3', 'name': 'Beers', children: ['10', '11', '12']}\n, '4': { id: '4', 'name': 'Bears', children: ['13', '14']}\n, '5': { id: '5', 'name': 'Tigers'}\n, '6': { id: '6', 'name': 'Snakes'}\n, '7': { id: '7', 'name': 'Climbing'}\n, '8': { id: '8', 'name': 'Skating'}\n, '9': { id: '9', 'name': 'Mountianeering'}\n, '10': { id: '10', 'name': 'Stout'}\n, '11': { id: '11', 'name': 'Lager'}\n, '12': { id: '12', 'name': 'Ale'}\n, '13': { id: '13', 'name': 'Brown Bear'}\n, '14': { id: '14', 'name': 'Black Bear'}\n}\nconst rootChannelsData = [\n  '1'\n, '2'\n, '3'\n]\nconst breadcrumbsData = {}\n\nconst defaultData = {\n  rootChannels: rootChannelsData\n, channels: channelsData\n, breadcrumbs: breadcrumbsData\n}\nconst store = createStore(\n  combineReducers({rootChannels, channels, breadcrumbs})\n, defaultData\n, window.devToolsExtension && window.devToolsExtension()\n)\n\nReactDOM.render(\n  <Provider store={store}>\n     <App />\n   </Provider>\n, document.getElementById('root')\n)"],"sourceRoot":""}